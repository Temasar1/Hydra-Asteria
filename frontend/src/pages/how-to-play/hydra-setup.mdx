import Layout from "./layout";
import CodeBlock from "@/components/CodeBlock";

export default ({ children }) => <Layout>{children}</Layout>;

# Hydra Setup

Connects to a running Hydra head and initializes a Mesh Hydra instance.  
This setup allows you to send transactions through Hydra with instant finality.  

##  Prerequisites  

A running cardano and Hydra-node  

- [Mesh-hydra tutorial](https://meshjs.dev/hydra/tutorial)
- [Mesh-hydra Instance](https://meshjs.dev/hydra/instance)
- [Mesh-hydra provider](https://meshjs.dev/providers/hydra)


## Hydra Example

You can use the following to configure and connect Hydra with Mesh.  




<CodeBlock content={`import { HydraInstance, HydraProvider } from "@meshsdk/hydra";
import { BlockfrostProvider } from "@meshsdk/core";

const hydraProvider = new HydraProvider({
  httpUrl: "http://localhost:4001",
});

const blockchainProvider = new BlockfrostProvider({
  projectId: "<YOUR_BLOCKFROST_API_KEY>",
});

const hydra = new HydraInstance({
  provider: hydraProvider,
  fetcher: blockchainProvider,
  submitter: blockchainProvider,
});

async function main() {
  await hydraProvider.connect();
  console.log("Connected to Hydra head");

  await hydra.init();
  console.log("Head is Initializing");

  const txhash =  await provider.commitFunds(txHash, outputIndex)
  console.log('commit txHash',txhash)
}

main();
`} />
